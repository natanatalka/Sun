import { ErrorHandler, Injector, NgModule } from '@angular/core';
import { HttpModule } from '@angular/http';
import { BrowserModule } from '@angular/platform-browser';
import 'rxjs/add/operator/map';
import 'rxjs/add/operator/toPromise';
import { apiServiceProvider } from './api/api.service.provider';
import { HandlerService } from './api/handler.service';
import { HttpApiService } from './api/http-api.service';
import { MockApiService } from './api/mock-api.service';
import { PowwowLoginApiService } from './api/powwow-login-api.service';
import { WsApiService } from './api/ws-api.service';
import { bootstrapProvider } from './bootstrap';
import { DI } from './di';
import { IndicesDirective } from './directives/indices.directive';
import { PowwowChangeDirective } from './directives/powwow-change.directive';
import { ExceptionHandler } from './error.handler';
import { PmClient } from './pm-rpc/client';
import { PmServer } from './pm-rpc/server';
import { AppConfigService } from './services/app-config.service';
import { AppService } from './services/app.service';
import { DataService } from './services/data.service';
import { DeviceService } from './services/device.service';
import { MockService } from './services/mock.service';
import { NavigationService } from './services/navigation.service';
import { PowwowLoginService } from './services/powwow-login.service';
import { QueueService } from './services/queue.service';
import { ScreenModelService } from './services/screen-model.service';
import { ScreenService } from './services/screen.service';
import { UiService } from './services/ui.service';
import { WsService } from './services/ws.service';

@NgModule({
  imports: [
    BrowserModule,
    HttpModule
  ],
  providers: [
    {provide: ErrorHandler, useClass: ExceptionHandler},
    apiServiceProvider,
    bootstrapProvider,
    AppService,
    DeviceService,
    ScreenModelService,
    MockApiService,
    WsApiService,
    PowwowLoginApiService,
    DataService,
    ScreenService,
    NavigationService,
    UiService,
    WsService,
    PowwowLoginService,
    HandlerService,
    HttpApiService,
    QueueService,
    PmServer,
    PmClient,
    AppConfigService,
    MockService
  ],
  declarations: [
    PowwowChangeDirective,
    IndicesDirective
  ],
  exports: [
    PowwowChangeDirective,
    IndicesDirective
  ]
})
export class SmartUxClient {
  constructor(injector: Injector) {
    DI.setInjector(injector);
  }
}
