let webpack = require('webpack');

module.exports = {
  entry: {
    components: [
      'components/index'
    ]
  },

  devtool: process.env.IONIC_SOURCE_MAP_TYPE,

  resolve: {
    symlinks: false,
    extensions: ['.ts', '.js']
  },

  output: {
    path: '{{BUILD}}',
    publicPath: 'build/',
    filename: 'components.js',
    library: 'components_lib'
  },

  plugins: [
    new webpack.DllPlugin({
      path: process.env.IONIC_ROOT_DIR + '/www/build/components-manifest.json',
      name: 'components_lib'
    }),
    new webpack.DllReferencePlugin({
      context: '.',
      manifest: require(process.env.IONIC_ROOT_DIR + '/www/build/vendors-manifest.json')
    })
  ],

  node: {
    fs: 'empty',
    net: 'empty',
    tls: 'empty'
  }
};
