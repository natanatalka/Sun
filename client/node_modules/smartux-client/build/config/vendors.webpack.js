let webpack = require('webpack');

module.exports = {
  entry: {
    vendors: [
      'ionic-angular',
      '@angular/platform-browser-dynamic',
      '@angular/http',
      'rxjs/add/operator/toPromise',
      'query-string',
      'smartux-client'
    ]
  },

  devtool: process.env.IONIC_SOURCE_MAP_TYPE,

  resolve: {
    symlinks: false,
    extensions: ['.ts', '.js', '.json'],
    modules: [process.env.IONIC_ROOT_DIR + '/node_modules']
  },

  output: {
    path: '{{BUILD}}',
    publicPath: 'build/',
    filename: 'vendors.js',
    library: 'vendors_lib'
  },

  plugins: [
    new webpack.DllPlugin({
      path: process.env.IONIC_ROOT_DIR + '/www/build/vendors-manifest.json',
      name: 'vendors_lib'
    })
  ],

  node: {
    fs: 'empty',
    net: 'empty',
    tls: 'empty'
  }
};
